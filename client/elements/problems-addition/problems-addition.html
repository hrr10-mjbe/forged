<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="problems-addition">
  <template>
    <style>
      :host {
        display: block;
      }

      .container {
        margin: 50px;
        position: relative;
      }

      paper-fab {
        background-color: #F5A503;
        position: absolute;
        top: 163px;
        right: 190px;
      }
    </style>

    <div class="container">What is <span><strong>{{question}}</strong></span> ?</div>
    <input value="{{studentAnswer::input}}">

    <!-- <paper-button class="submit" on-tap="plzwork">Submit</paper-button> -->
    <paper-fab icon="send" on-tap="plzwork"></paper-fab>
    <p>{{message}}</p>

  </template>
  <script>
    var generator = function() {
      var randInt = function (max) {
        return Math.ceil(Math.random() * max);
      };

      var x = Math.ceil(Math.random() * 10);
      var y = Math.ceil(Math.random() * 10);
      var operator = ['+', '-', '*'][Math.floor(Math.random() * 3)];
      return x + ' ' + operator + ' ' + y;
    }
    // var answerChecker = function(query) {
    //   console.log('inside answerChecker');
    //   console.log(this.studentAnswer);

    //   if(query === 2) {
    //     alert('Correct!');
    //   } else {
    //     alert(this.studentAnswer);
    //   }
    // };

    Polymer({
      is: 'problems-addition',

      properties: {
        question: {
          type: String,
          value: generator(),
          notify: true
        },

        studentAnswer: {
          type: Number,
          notify: true
        },

        message: {
          type: String
        }
      },

      plzwork: function() {
        if (this.studentAnswer == eval(this.question)) {
          this.message = 'Correct!';
        } else {
          this.message = 'Incorrect. :(';
        }
        this.studentAnswer = '';
        this.question = generator();
      }
    });
  </script>
</dom-module>
